{"remainingRequest":"C:\\Users\\MASTER\\Desktop\\Projetos\\scac\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\MASTER\\Desktop\\Projetos\\scac\\src\\pages\\login\\Login.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Users\\MASTER\\Desktop\\Projetos\\scac\\src\\pages\\login\\Login.vue","mtime":1561170678154},{"path":"C:\\Users\\MASTER\\Desktop\\Projetos\\scac\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\MASTER\\Desktop\\Projetos\\scac\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"C:\\Users\\MASTER\\Desktop\\Projetos\\scac\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\MASTER\\Desktop\\Projetos\\scac\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":["//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\nexport default {\n  name: 'Login',\n  data: () => {\n    return {\n      loading: false,\n      email:'bbb@gmail.com',\n      password:'16052001'\n    }\n  },\n  methods: {\n    async doLogin(){\n      this.loading = true\n\n      const { email,password } = this\n\n      try{\n        const res = await this.$firebase.auth().signInWithEmailAndPassword(email, password)\n        window.uid = res.user.uid\n        this.$router.push({ name: 'home' })\n\n      } catch (err){\n        let message = ''\n\n        switch (err.code) {\n          case 'auth/user-not-found':\n            message = 'Não foi possível localizar o usuário.'\n            break\n          case 'auth/wrong-password':\n            message = 'Senha inválida'\n            break\n          default:\n            message = 'Não foi possível fazer login, tente novamente'\n        }\n\n        this.$root.$emit('Notification::show', {\n          message,\n          type: 'danger'\n        })\n      }\n\n      this.loading = false\n\n    }\n\n\n\n  },\n  beforeRouteEnter (to, from, next) {\n      next(vm => {\n        if(window.uid){\n          vm.$router.push({ name: 'home'})\n        }\n      })\n    }\n};\n",{"version":3,"sources":["Login.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAwCA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;;;;AAIA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"Login.vue","sourceRoot":"src/pages/login","sourcesContent":["<template>\n  <form @submit.prevent=\"doLogin()\" class=\"form-login\">\n    <div class=\"card\">\n      <div class=\"card-nheader text-center\">\n        <img src=\"../../assets/logo.png\" class=\"card-img-top responsive\" alt=\"100px\">\n        <!--<h1 class=\"mb-0\">SCAC</h1>-->\n      </div>\n      <div class=\"card-body\">\n        <div class=\"form-group\">\n          <input\n          required\n          type=\"email\"\n          v-model=\"email\"\n          class=\"form-control\"\n          placeholder=\"E-mail\">\n        </div>\n        <div class=\"form-group\">\n          <input\n          required\n          type=\"password\"\n          v-model=\"password\"\n          class=\"form-control\"\n          placeholder=\"Senha\">\n        </div>\n        <button class=\"btn btn-primary w-100\" :disabled=\"loading\">\n          <template v-if='loading'>\n            Entrando...\n            <i class=\"fa fa-spinner fa-spin\"></i>\n          </template>\n          <template v-else>\n            Entrar\n            <i class=\"fas fa-sign-in-alt\"></i>\n          </template>\n        </button>\n      </div>\n    </div>\n  </form>\n</template>\n\n<script>\nexport default {\n  name: 'Login',\n  data: () => {\n    return {\n      loading: false,\n      email:'bbb@gmail.com',\n      password:'16052001'\n    }\n  },\n  methods: {\n    async doLogin(){\n      this.loading = true\n\n      const { email,password } = this\n\n      try{\n        const res = await this.$firebase.auth().signInWithEmailAndPassword(email, password)\n        window.uid = res.user.uid\n        this.$router.push({ name: 'home' })\n\n      } catch (err){\n        let message = ''\n\n        switch (err.code) {\n          case 'auth/user-not-found':\n            message = 'Não foi possível localizar o usuário.'\n            break\n          case 'auth/wrong-password':\n            message = 'Senha inválida'\n            break\n          default:\n            message = 'Não foi possível fazer login, tente novamente'\n        }\n\n        this.$root.$emit('Notification::show', {\n          message,\n          type: 'danger'\n        })\n      }\n\n      this.loading = false\n\n    }\n\n\n\n  },\n  beforeRouteEnter (to, from, next) {\n      next(vm => {\n        if(window.uid){\n          vm.$router.push({ name: 'home'})\n        }\n      })\n    }\n};\n</script>\n\n<style lang=\"scss\" scoped>\n@import \"../../assets/scss/variables\";\n\n.form-login {\n  height: 100vh;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n}\n.card {\n  width: 30%;\n  color: $featured-dark;\n}\n\n</style>\n\n"]}]}