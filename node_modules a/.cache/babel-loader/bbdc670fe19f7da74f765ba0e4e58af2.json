{"remainingRequest":"C:\\Users\\MASTER\\Desktop\\Projetos\\scactwo\\node_modules\\babel-loader\\lib\\index.js!C:\\Users\\MASTER\\Desktop\\Projetos\\scactwo\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!C:\\Users\\MASTER\\Desktop\\Projetos\\scactwo\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\MASTER\\Desktop\\Projetos\\scactwo\\src\\pages\\login\\Login.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Users\\MASTER\\Desktop\\Projetos\\scactwo\\src\\pages\\login\\Login.vue","mtime":1571273615885},{"path":"C:\\Users\\MASTER\\Desktop\\Projetos\\scactwo\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\MASTER\\Desktop\\Projetos\\scactwo\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"C:\\Users\\MASTER\\Desktop\\Projetos\\scactwo\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\MASTER\\Desktop\\Projetos\\scactwo\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":["import \"regenerator-runtime/runtime\";\nimport _asyncToGenerator from \"C:\\\\Users\\\\MASTER\\\\Desktop\\\\Projetos\\\\scactwo\\\\node_modules\\\\@babel\\\\runtime-corejs2/helpers/esm/asyncToGenerator\";\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\nexport default {\n  name: 'Login',\n  data: function data() {\n    return {\n      loading: false,\n      email: 'bbb@gmail.com',\n      password: '16052001'\n    };\n  },\n  methods: {\n    doLogin: function () {\n      var _doLogin = _asyncToGenerator(\n      /*#__PURE__*/\n      regeneratorRuntime.mark(function _callee() {\n        var email, password, res, message;\n        return regeneratorRuntime.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                this.loading = true;\n                email = this.email, password = this.password;\n                _context.prev = 2;\n                _context.next = 5;\n                return this.$firebase.auth().signInWithEmailAndPassword(email, password);\n\n              case 5:\n                res = _context.sent;\n                window.uid = res.user.uid;\n                this.$router.push({\n                  name: 'home'\n                });\n                _context.next = 22;\n                break;\n\n              case 10:\n                _context.prev = 10;\n                _context.t0 = _context[\"catch\"](2);\n                message = '';\n                _context.t1 = _context.t0.code;\n                _context.next = _context.t1 === 'auth/user-not-found' ? 16 : _context.t1 === 'auth/wrong-password' ? 18 : 20;\n                break;\n\n              case 16:\n                message = 'Não foi possível localizar o usuário.';\n                return _context.abrupt(\"break\", 21);\n\n              case 18:\n                message = 'Senha inválida';\n                return _context.abrupt(\"break\", 21);\n\n              case 20:\n                message = 'Não foi possível fazer login, tente novamente';\n\n              case 21:\n                this.$root.$emit('Notification::show', {\n                  message: message,\n                  type: 'danger'\n                });\n\n              case 22:\n                this.loading = false;\n\n              case 23:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee, this, [[2, 10]]);\n      }));\n\n      function doLogin() {\n        return _doLogin.apply(this, arguments);\n      }\n\n      return doLogin;\n    }()\n  },\n  beforeRouteEnter: function beforeRouteEnter(to, from, next) {\n    next(function (vm) {\n      if (window.uid) {\n        vm.$router.push({\n          name: 'home'\n        });\n      }\n    });\n  }\n};",{"version":3,"sources":["Login.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAwCA,eAAA;AACA,EAAA,IAAA,EAAA,OADA;AAEA,EAAA,IAAA,EAAA,gBAAA;AACA,WAAA;AACA,MAAA,OAAA,EAAA,KADA;AAEA,MAAA,KAAA,EAAA,eAFA;AAGA,MAAA,QAAA,EAAA;AAHA,KAAA;AAKA,GARA;AASA,EAAA,OAAA,EAAA;AACA,IAAA,OADA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA,qBAAA,OAAA,GAAA,IAAA;AAEA,gBAAA,KAJA,GAIA,IAJA,CAIA,KAJA,EAIA,QAJA,GAIA,IAJA,CAIA,QAJA;AAAA;AAAA;AAAA,uBAOA,KAAA,SAAA,CAAA,IAAA,GAAA,0BAAA,CAAA,KAAA,EAAA,QAAA,CAPA;;AAAA;AAOA,gBAAA,GAPA;AAQA,gBAAA,MAAA,CAAA,GAAA,GAAA,GAAA,CAAA,IAAA,CAAA,GAAA;AACA,qBAAA,OAAA,CAAA,IAAA,CAAA;AAAA,kBAAA,IAAA,EAAA;AAAA,iBAAA;AATA;AAAA;;AAAA;AAAA;AAAA;AAYA,gBAAA,OAZA,GAYA,EAZA;AAAA,8BAcA,YAAA,IAdA;AAAA,gDAeA,qBAfA,wBAkBA,qBAlBA;AAAA;;AAAA;AAgBA,gBAAA,OAAA,GAAA,uCAAA;AAhBA;;AAAA;AAmBA,gBAAA,OAAA,GAAA,gBAAA;AAnBA;;AAAA;AAsBA,gBAAA,OAAA,GAAA,+CAAA;;AAtBA;AAyBA,qBAAA,KAAA,CAAA,KAAA,CAAA,oBAAA,EAAA;AACA,kBAAA,OAAA,EAAA,OADA;AAEA,kBAAA,IAAA,EAAA;AAFA,iBAAA;;AAzBA;AA+BA,qBAAA,OAAA,GAAA,KAAA;;AA/BA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;AAAA;AAAA;AAAA;;AAAA;AAAA;AAAA,GATA;AA+CA,EAAA,gBA/CA,4BA+CA,EA/CA,EA+CA,IA/CA,EA+CA,IA/CA,EA+CA;AACA,IAAA,IAAA,CAAA,UAAA,EAAA,EAAA;AACA,UAAA,MAAA,CAAA,GAAA,EAAA;AACA,QAAA,EAAA,CAAA,OAAA,CAAA,IAAA,CAAA;AAAA,UAAA,IAAA,EAAA;AAAA,SAAA;AACA;AACA,KAJA,CAAA;AAKA;AArDA,CAAA","sourcesContent":["<template>\n  <form @submit.prevent=\"doLogin()\" class=\"form-login\">\n    <div class=\"card col-10 col-sm-6 col-lg-4\" style=\"width: 18rem;\">\n      <div class=\"card-nheader text-center\">\n        <img src=\"../../assets/logo.png\" class=\"card-img-top responsive\" alt=\"100px\">\n        <!--<h1 class=\"mb-0\">SCAC</h1>-->\n      </div>\n      <div class=\"card-body\">\n        <div class=\"form-group\">\n          <input\n          required\n          type=\"email\"\n          v-model=\"email\"\n          class=\"form-control\"\n          placeholder=\"E-mail\">\n        </div>\n        <div class=\"form-group\">\n          <input\n          required\n          type=\"password\"\n          v-model=\"password\"\n          class=\"form-control\"\n          placeholder=\"Senha\">\n        </div>\n        <button class=\"btn btn-primary w-100\" :disabled=\"loading\">\n          <template v-if='loading'>\n            Entrando...\n            <i class=\"fa fa-spinner fa-spin\"></i>\n          </template>\n          <template v-else>\n            Entrar\n            <i class=\"fas fa-sign-in-alt\"></i>\n          </template>\n        </button>\n      </div>\n    </div>\n  </form>\n</template>\n\n<script>\nexport default {\n  name: 'Login',\n  data: () => {\n    return {\n      loading: false,\n      email:'bbb@gmail.com',\n      password:'16052001'\n    }\n  },\n  methods: {\n    async doLogin(){\n      this.loading = true\n\n      const { email,password } = this\n\n      try{\n        const res = await this.$firebase.auth().signInWithEmailAndPassword(email, password)\n        window.uid = res.user.uid\n        this.$router.push({ name: 'home' })\n\n      } catch (err){\n        let message = ''\n\n        switch (err.code) {\n          case 'auth/user-not-found':\n            message = 'Não foi possível localizar o usuário.'\n            break\n          case 'auth/wrong-password':\n            message = 'Senha inválida'\n            break\n          default:\n            message = 'Não foi possível fazer login, tente novamente'\n        }\n\n        this.$root.$emit('Notification::show', {\n          message,\n          type: 'danger'\n        })\n      }\n\n      this.loading = false\n\n    }\n\n\n\n  },\n  beforeRouteEnter (to, from, next) {\n      next(vm => {\n        if(window.uid){\n          vm.$router.push({ name: 'home'})\n        }\n      })\n    }\n};\n</script>\n\n<style lang=\"scss\" scoped>\n@import \"../../assets/scss/variables\";\n\n.form-login {\n  height: 100vh;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n}\n.card {\n  width: 30%;\n  color: $featured-dark;\n}\n\n</style>\n\n"],"sourceRoot":"src/pages/login"}]}